// xz-notify.min.js, https://github.com/dknight/xz-notify
/**
 * XZNotify is a framework agnostic web component to show floating
 * notifications. Check details on https://www.github.com/dknight/xz-notify
 *
 * @author Dmitri Smirnov <https://www.whoop.ee/>
 * @license MIT 2023
 *
 * @property {string} [type="info"] Type of the notification, like info,
 * error, warning, success. See `XZNotify.types` for possible values.
 * @property {number} [expire=10000] How long notification will be displayed.
 * @property {boolean} [closeable=false] If is set on the click on the
 * notification will close the notification.
 * @property {string} [position="ne"] Position of the notification. See
 * `XZNotify.position` for possible values.
 * @property {string} [heading] Heading of the notification. Creates h3 element
 * inside the notification.
 *
 * @fires XZNotify#open
 * @fires XZNotify#close
 *
 * @example
 * <xz-notify expire="8000" closeable>Message here</xz-notify>
 */class o extends HTMLElement{static TAG_NAME="xz-notify";static observedAttributes=[];static types={INFO:"info",WARNING:"warning",SUCCESS:"success",ERROR:"error"};static events={OPEN:new CustomEvent("xz-notify:open",{bubbles:!0}),CLOSE:new CustomEvent("xz-notify:close",{bubbles:!0})};static position={N:"n",NE:"ne",E:"e",SE:"se",S:"s",SW:"sw",W:"w",NW:"nw"};static collection={[this.position.N]:[],[this.position.NE]:[],[this.position.E]:[],[this.position.SE]:[],[this.position.S]:[],[this.position.SW]:[],[this.position.W]:[],[this.position.NW]:[]};static defaults={EXPIRE:1e4,TYPE:this.types.INFO,POSITION:this.position.NE,CLOSEABLE:!1};static create=(t,e={},s=!1)=>{const i=document.createElement(this.TAG_NAME);return Object.entries(e).forEach(([l,c])=>i.setAttribute(l,c)),s?i.innerHTML=t:i.innerText=t,i};#e=document.createElement("style");#i=!1;#t=':host{--xz-notify-background-color: #f7f7f7;--xz-notify-heading-color: currentColor;display:block;position:fixed;left:var(--xz-notify-left);top:var(--xz-notify-top);border-radius:0;border-width:0;border-style:solid;font-family:system-ui,-apple-system,Arial,sans-serif;font-size:16px;font-weight:400;line-height:normal;margin:.5em;padding:1.5em;width:fit-content;max-width:28em;min-width:18em;height:auto;z-index:auto;animation:xz-notify-close .4s ease-in 1;animation-play-state:paused;background:var(--xz-notify-background-color) linear-gradient(to right,var(--xz-notify-heading-color) .25em,transparent 0);border-color:transparent;color:#666}@keyframes xz-notify-close{to{opacity:0}}:host([closeable]){cursor:pointer}:host([closeable]:hover):after{content:"";display:block;width:100%;height:100%;background:rgba(0,0,0,.05);position:absolute;top:0;left:0;pointer-events:none}:host p{margin-top:0}:host a{color:currentColor}:host h3{color:var(--xz-notify-heading-color, currentColor);font-size:125%;margin:0 0 .5em}:host([type="info"]){--xz-notify-heading-color: #4d4dff;--xz-notify-background-color: #f6f6ff}:host([type="success"]){--xz-notify-heading-color: #2ec946;--xz-notify-background-color: #f4fcf6}:host([type="warning"]){--xz-notify-heading-color: #ffba00;--xz-notify-background-color: #fffbf2}:host([type="error"]){--xz-notify-heading-color: #ff3838;--xz-notify-background-color: #fff5f5}';constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.css=this.#t}get css(){return this.#t}set css(t){this.#t=t,this.#e.textContent=this.#t}#o(){const t=this.constructor.collection[this.position].findIndex(p=>p===this),e=this.getBoundingClientRect(),s=getComputedStyle(this),i=parseInt(s.getPropertyValue("margin-top")),l=parseInt(s.getPropertyValue("margin-right")),c=parseInt(s.getPropertyValue("margin-bottom")),d=parseInt(s.getPropertyValue("margin-left"));let n,r,a,h;switch(this.position){case o.position.N:[n,r]=["50%","0%"],[a,h]=[e.width/2,t*(e.height+i)];break;case o.position.NE:[n,r]=["100%","0%"],[a,h]=[e.width+d+l,t*(e.height+i)];break;case o.position.E:[n,r]=["100%","50%"],[a,h]=[(t+1)*(e.width+d+l),-(e.height/2+i+c)];break;case o.position.SE:[n,r]=["100%","100%"],[a,h]=[e.width+d+l,-(t+1)*(e.height+i+c)];break;case o.position.S:[n,r]=["50%","100%"],[a,h]=[e.width/2,-(t+1)*(e.height+i+c)];break;case o.position.SW:[n,r]=["0%","100%"],[a,h]=[0,-(t+1)*(e.height+i+c)];break;case o.position.W:[n,r]=["0%","50%"],[a,h]=[t*-(e.width+d),-(e.height/2+i+c)];break;case o.position.NW:[n,r]=["0%","0%"],[a,h]=[0,t*(e.height+i)];break}this.style.setProperty("--xz-notify-left",`calc(${n} - ${a}px)`),this.style.setProperty("--xz-notify-top",`calc(${r} + ${h}px)`)}#n(){Object.values(this.constructor.collection).forEach(t=>{t.forEach(e=>this.#o.call(e))})}connectedCallback(){this.#r(),this.constructor.collection[this.position].push(this),this.dispatchEvent(this.constructor.events.OPEN,this),this.#a(),this.#c()}#r(){this.type=(this.getAttribute("type")||this.constructor.defaults.TYPE).toLowerCase(),this.position=(this.getAttribute("position")||this.constructor.position.NE).toLowerCase(),this.expire=Number(this.getAttribute("expire"))||this.constructor.defaults.EXPIRE,this.closeable=this.hasAttribute("closeable"),this.heading=this.getAttribute("heading")}#a(){this.root.append(this.#e),this.heading&&this.root.appendChild(this.#h()),this.root.append(...this.children)}#h(){const t=document.createElement("h3");return t.innerText=this.heading,t}#c(){const t=parseFloat(window.getComputedStyle(this).getPropertyValue("animation-duration"))>0;this.#o();let e;const s=i=>{if(e===void 0&&(e=i),i-e>=this.expire||this.#i){this.dataset.closing="",t>0?this.style.animationPlayState="running":this.#s();return}requestAnimationFrame(s)};requestAnimationFrame(s),this.addEventListener("animationend",this.#s),this.closeable&&this.addEventListener("click",this.closeHandler.bind(this))}#s(){this.dispatchEvent(this.constructor.events.CLOSE,this),this.remove()}closeHandler(t){this.#i=!0}disconnectedCallback(){this.constructor.collection[this.position]=this.constructor.collection[this.position].filter(t=>t!==this),this.#n()}}window.customElements.define(o.TAG_NAME,o);export default o;
//# sourceMappingURL=xz-notify.min.js.map
